<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Wajah Aneka - Game Match-3 dengan Emoji</title>
<meta name="description" content="Game match-3 dengan emoji wajah yang menyenangkan">
<meta name="theme-color" content="#ff6b6b">
<link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIldhamFoIEFuZWthIiwKICAic2hvcnRfbmFtZSI6ICJXYWphaCBBbmVrYSIsCiAgInN0YXJ0X3VybCI6ICIuIiwKICAiZGlzcGxheSI6ICJzdGFuZGFsb25lIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjZmY2YjZiIiwKICAidGhlbWVfY29sb3IiOiAiI2ZmNmI2YiIsCiAgImljb25zIjogWwogICAgewogICAgICAic3JjIjogImljb24tMTkyeDE5Mi5wbmciLAogICAgICAic2l6ZXMiOiAiMTkyeDE5MiIsCiAgICAgICJ0eXBlIjogImltYWdlL3BuZyIsCiAgICAgICJwdXJwb3NlIjogImFueSBtYXNrYWJsZSIKICAgIH0sCiAgICB7
CiAgICAgICJzcmMiOiAiaWNvbi01MTJ4NTEyLnBuZyIsCiAgICAgICJzaXplcyI6ICI1MTJ4NTEyIiwKICAgICAgInR5cGUiOiAiaW1hZ2UvcG5nIiwKICAgICAgInB1cnBvc2UiOiAiYW55IG1hc2thYmxlIgogICAgfQogIF0KfQ==">
<link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMjU2IiBjeT0iMjU2IiByPSIyNTYiIGZpbGw9IiNmZjZiNmIiLz48dGV4dCB4PSIyNTYiIHk9IjI4MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjI4MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+8J+YsTwvdGV4dD48L3N2Zz4=" type="image/svg+xml" sizes="any">
<link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iOTYiIGN5PSI5NiIgcj0iOTYiIGZpbGw9IiNmZjZiNmIiLz48dGV4dCB4PSI5NiIgeT0iMTEwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIj7wn5ixPC90ZXh0Pjwvc3ZnPg==" type="image/svg+xml" sizes="192x192">
<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;touch-action:manipulation;-webkit-tap-highlight-color:transparent}
body{background:linear-gradient(135deg,#ff9a9e 0%,#fad0c4 100%);min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:20px;color:#333;overflow-x:hidden}
header{text-align:center;margin-bottom:20px;width:100%;max-width:500px}
h1{font-size:2.5rem;color:#ff6b6b;text-shadow:2px 2px 4px rgba(0,0,0,0.2);margin-bottom:10px}
.game-info{display:flex;justify-content:space-between;width:100%;max-width:500px;margin-bottom:20px;background-color:rgba(255,255,255,0.9);padding:15px 20px;border-radius:15px;box-shadow:0 5px 15px rgba(0,0,0,0.1)}
.score-container,.level-container{text-align:center;flex:1}
.score-label,.level-label{font-size:1rem;color:#666;margin-bottom:5px}
.score,.level{font-size:2rem;font-weight:bold;color:#ff6b6b}
.game-board{display:grid;grid-template-columns:repeat(8,1fr);gap:5px;width:100%;max-width:500px;aspect-ratio:1/1;background-color:rgba(255,255,255,0.9);padding:15px;border-radius:15px;box-shadow:0 5px 15px rgba(0,0,0,0.1);margin-bottom:20px;touch-action:none}
.emoji{display:flex;justify-content:center;align-items:center;font-size:1.8rem;border-radius:10px;background-color:rgba(255,255,255,0.7);transition:all 0.2s ease;user-select:none;cursor:pointer;box-shadow:0 2px 5px rgba(0,0,0,0.05)}
.emoji:hover{background-color:rgba(255,255,255,0.9);transform:scale(1.05)}
.emoji.selected{background-color:#ffd166;transform:scale(1.1);box-shadow:0 0 10px rgba(255,209,102,0.7)}
.emoji.matched{animation:matched 0.5s ease-out forwards}
@keyframes matched{0%{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:0.7}100%{transform:scale(0);opacity:0}}
.controls{display:flex;gap:15px;margin-bottom:20px;width:100%;max-width:500px}
button{flex:1;padding:15px 20px;border:none;border-radius:50px;background:linear-gradient(to right,#ff6b6b,#ff9a9e);color:white;font-size:1rem;font-weight:bold;cursor:pointer;box-shadow:0 4px 8px rgba(0,0,0,0.2);transition:all 0.2s ease}
button:hover{transform:translateY(-3px);box-shadow:0 6px 12px rgba(0,0,0,0.2)}
button:active{transform:translateY(0);box-shadow:0 2px 4px rgba(0,0,0,0.2)}
.instructions{max-width:500px;background-color:rgba(255,255,255,0.9);padding:20px;border-radius:15px;box-shadow:0 5px 15px rgba(0,0,0,0.1);margin-bottom:20px}
.instructions h2{color:#ff6b6b;margin-bottom:15px;text-align:center}
.instructions p{margin-bottom:10px;line-height:1.5}
.swipe-info{background-color:rgba(255,255,255,0.9);padding:12px 20px;border-radius:50px;margin-bottom:15px;text-align:center;box-shadow:0 3px 8px rgba(0,0,0,0.1);display:none}
footer{margin-top:auto;text-align:center;padding:20px;color:#666;font-size:0.9rem}
@keyframes appear{from{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}
.emoji.new{animation:appear 0.3s ease-out forwards}
.game-board.processing{opacity:0.7;pointer-events:none}
.level-up-modal{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.7);display:flex;justify-content:center;align-items:center;z-index:1000;opacity:0;pointer-events:none;transition:opacity 0.3s ease}
.level-up-modal.active{opacity:1;pointer-events:all}
.modal-content{background:white;padding:30px;border-radius:20px;text-align:center;max-width:80%;box-shadow:0 10px 25px rgba(0,0,0,0.2)}
.modal-content h2{color:#ff6b6b;margin-bottom:15px;font-size:1.8rem}
.modal-content p{margin-bottom:20px;font-size:1.2rem;color:#555}
.modal-emoji{font-size:3rem;margin:15px 0}
.combo-notification{position:absolute;font-size:1.5rem;font-weight:bold;color:#ff6b6b;animation:floatUp 1s ease-out forwards;pointer-events:none;z-index:100}
@keyframes floatUp{0%{transform:translateY(0);opacity:1}100%{transform:translateY(-50px);opacity:0}}
@media (max-width:520px){.game-board{padding:10px;gap:4px}.emoji{font-size:1.5rem}h1{font-size:2rem}.score,.level{font-size:1.8rem}.swipe-info{display:block}.controls{flex-direction:column}button{width:100%}}
@media (max-width:400px){.emoji{font-size:1.3rem}.game-info{padding:12px}.score,.level{font-size:1.6rem}.instructions{padding:15px}}
@media (max-height:700px){header{margin-bottom:15px}.game-info{margin-bottom:15px}.instructions{display:none}}
</style>
</head>
<body>
<header><h1>Wajah Aneka</h1><p>Game match-3 dengan emoji wajah yang menyenangkan!</p></header>
<div class="game-info"><div class="score-container"><div class="score-label">Poin</div><div class="score">3240</div></div><div class="level-container"><div class="level-label">Level</div><div class="level">4</div></div></div>
<div class="swipe-info">Klik emoji untuk memilih dan membuat garis match</div>
<div class="game-board" id="gameBoard"></div>
<div class="controls"><button id="hintBtn">Bantuan</button><button id="shuffleBtn">Acak Ulang</button></div>
<div class="instructions"><h2>Cara Bermain</h2><p>1. Klik emoji untuk memilihnya</p><p>2. Buat garis horizontal atau vertikal minimal 3 emoji yang sama</p><p>3. Emoji yang match akan hilang dan emoji di atasnya akan turun</p><p>4. Dapatkan poin dan naik level setiap 1000 poin</p></div>
<div class="level-up-modal" id="levelUpModal"><div class="modal-content"><h2>Selamat!</h2><div class="modal-emoji">üéâ</div><p>Anda mencapai level <span id="newLevel">1</span>!</p><button id="modalCloseBtn">Lanjutkan</button></div></div>
<footer><p>Game Wajah Aneka &copy; 2023 - Mainkan dan bagikan!</p></footer>
<script>
const basicEmojis=['üòÅ','üò©','üòù','üò≥','üò¢'];
const BOARD_SIZE=8;
const MIN_MATCH=3;
const POINTS_PER_MATCH=100;
const LEVEL_UP_SCORE=1000;
let score=3240;
let level=4;
let board=[];
let isProcessing=false;
let selectedEmojis=[];
const gameBoard=document.getElementById('gameBoard');
const scoreDisplay=document.querySelector('.score');
const levelDisplay=document.querySelector('.level');
const hintBtn=document.getElementById('hintBtn');
const shuffleBtn=document.getElementById('shuffleBtn');
const levelUpModal=document.getElementById('levelUpModal');
const newLevelDisplay=document.getElementById('newLevel');
const modalCloseBtn=document.getElementById('modalCloseBtn');
function initGame(){createBoard();updateDisplay();hintBtn.addEventListener('click',showHint);shuffleBtn.addEventListener('click',shuffleBoard);modalCloseBtn.addEventListener('click',closeModal);gameBoard.addEventListener('click',handleClick);}
function createBoard(){gameBoard.innerHTML='';board=[];for(let row=0;row<BOARD_SIZE;row++){board[row]=[];for(let col=0;col<BOARD_SIZE;col++){const emoji=getRandomEmoji();board[row][col]=emoji;const emojiElement=createEmojiElement(emoji,row,col);gameBoard.appendChild(emojiElement)}}}
function createEmojiElement(emoji,row,col){const emojiElement=document.createElement('div');emojiElement.className='emoji';emojiElement.textContent=emoji;emojiElement.dataset.row=row;emojiElement.dataset.col=col;return emojiElement}
function getRandomEmoji(){const randomIndex=Math.floor(Math.random()*basicEmojis.length);return basicEmojis[randomIndex]}
function handleClick(event){if(isProcessing)return;const element=event.target;if(!element.classList.contains('emoji'))return;const row=parseInt(element.dataset.row);const col=parseInt(element.dataset.col);if(selectedEmojis.some(e=>e.row===row&&e.col===col)){element.classList.remove('selected');selectedEmojis=selectedEmojis.filter(e=>!(e.row===row&&e.col===col));return}
element.classList.add('selected');selectedEmojis.push({row,col,emoji:board[row][col]});if(selectedEmojis.length>=MIN_MATCH){checkSelectedMatches();}}
function checkSelectedMatches(){const firstEmoji=selectedEmojis[0].emoji;const allSame=selectedEmojis.every(e=>e.emoji===firstEmoji);if(!allSame){clearSelection();return}
const rows=selectedEmojis.map(e=>e.row);const cols=selectedEmojis.map(e=>e.col);const minRow=Math.min(...rows);const maxRow=Math.max(...rows);const minCol=Math.min(...cols);const maxCol=Math.max(...cols);const isHorizontal=(maxRow-minRow===0)&&(maxCol-minCol>=MIN_MATCH-1);const isVertical=(maxCol-minCol===0)&&(maxRow-minRow>=MIN_MATCH-1);if(isHorizontal||isVertical){processMatches(selectedEmojis);}else{clearSelection();}}
function clearSelection(){selectedEmojis.forEach(({row,col})=>{const element=document.querySelector(`.emoji[data-row="${row}"][data-col="${col}"]`);if(element)element.classList.remove('selected');});selectedEmojis=[];}
function processMatches(matches){isProcessing=true;gameBoard.classList.add('processing');matches.forEach(({row,col})=>{board[row][col]=null;const element=document.querySelector(`.emoji[data-row="${row}"][data-col="${col}"]`);if(element)element.classList.add('matched');});addScore(matches.length*POINTS_PER_MATCH);setTimeout(()=>{fillBoard();clearSelection();},500);}
function fillBoard(){for(let col=0;col<BOARD_SIZE;col++){let emptySpaces=0;for(let row=BOARD_SIZE-1;row>=0;row--){if(board[row][col]===null){emptySpaces++;}else if(emptySpaces>0){board[row+emptySpaces][col]=board[row][col];board[row][col]=null;}}for(let row=0;row<emptySpaces;row++){board[row][col]=getRandomEmoji();}}updateBoardView();setTimeout(()=>{const emojiElements=gameBoard.querySelectorAll('.emoji');emojiElements.forEach(element=>{element.classList.add('new');setTimeout(()=>element.classList.remove('new'),300);});setTimeout(()=>{isProcessing=false;gameBoard.classList.remove('processing');checkAndShuffleIfNoMoves();},400);},50);}
function updateBoardView(){const emojiElements=gameBoard.querySelectorAll('.emoji');emojiElements.forEach(element=>{const row=parseInt(element.dataset.row);const col=parseInt(element.dataset.col);element.textContent=board[row][col];element.classList.remove('selected','matched');});}
function checkAndShuffleIfNoMoves(){if(!hasValidMoves()){setTimeout(()=>{alert('Tidak ada gerakan yang valid! Mengacak ulang papan...');shuffleBoard();},300);}}
function hasValidMoves(){for(let row=0;row<BOARD_SIZE;row++){for(let col=0;col<BOARD_SIZE;col++){if(col<BOARD_SIZE-1){if(board[row][col]===board[row][col+1])return true;}if(row<BOARD_SIZE-1){if(board[row][col]===board[row+1][col])return true;}}}return false;}
function addScore(points){score+=points;const newLevel=Math.floor(score/LEVEL_UP_SCORE)+1;if(newLevel>level){level=newLevel;showLevelUpModal();}updateDisplay();}
function updateDisplay(){scoreDisplay.textContent=score;levelDisplay.textContent=level;}
function showLevelUpModal(){newLevelDisplay.textContent=level;levelUpModal.classList.add('active');}
function closeModal(){levelUpModal.classList.remove('active');}
function shuffleBoard(){if(isProcessing)return;isProcessing=true;gameBoard.classList.add('processing');for(let row=0;row<BOARD_SIZE;row++){for(let col=0;col<BOARD_SIZE;col++){board[row][col]=getRandomEmoji();}}updateBoardView();setTimeout(()=>{isProcessing=false;gameBoard.classList.remove('processing');},300);}
function showHint(){if(isProcessing)return;for(let row=0;row<BOARD_SIZE;row++){for(let col=0;col<BOARD_SIZE;col++){if(col<BOARD_SIZE-2&&board[row][col]===board[row][col+1]&&board[row][col]===board[row][col+2]){highlightHint(row,col,row,col+1,row,col+2);return;}if(row<BOARD_SIZE-2&&board[row][col]===board[row+1][col]&&board[row][col]===board[row+2][col]){highlightHint(row,col,row+1,col,row+2,col);return;}}}}}
function highlightHint(r1,c1,r2,c2,r3,c3){const elements=[document.querySelector(`.emoji[data-row="${r1}"][data-col="${c1}"]`),document.querySelector(`.emoji[data-row="${r2}"][data-col="${c2}"]`),document.querySelector(`.emoji[data-row="${r3}"][data-col="${c3}"]`)];elements.forEach(el=>{if(el)el.classList.add('selected');});setTimeout(()=>{elements.forEach(el=>{if(el)el.classList.remove('selected');});},1000);}
window.addEventListener('load',initGame);
</script>
</body>
</html>